"use strict";(self.webpackChunkosmosis_docs=self.webpackChunkosmosis_docs||[]).push([[1397],{3905:(e,t,i)=>{i.d(t,{Zo:()=>u,kt:()=>m});var n=i(67294);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function r(e,t){if(null==e)return{};var i,n,a=function(e,t){if(null==e)return{};var i,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(a[i]=e[i]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}var l=n.createContext({}),p=function(e){var t=n.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):s(s({},t),e)),i},u=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var i=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,u=r(e,["components","mdxType","originalType","parentName"]),d=p(i),m=a,h=d["".concat(l,".").concat(m)]||d[m]||c[m]||o;return i?n.createElement(h,s(s({ref:t},u),{},{components:i})):n.createElement(h,s({ref:t},u))}));function m(e,t){var i=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=i.length,s=new Array(o);s[0]=d;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r.mdxType="string"==typeof e?e:a,s[1]=r;for(var p=2;p<o;p++)s[p]=i[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,i)}d.displayName="MDXCreateElement"},86313:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>r,toc:()=>p});var n=i(87462),a=(i(67294),i(3905));const o={sidebar_position:7},s="Liquidity Incentives",r={unversionedId:"integrate/incentives",id:"integrate/incentives",title:"Liquidity Incentives",description:"Liquidity Providers on Osmosis receive swap fees by default, but can receive additional liquidity incentives from many sources.",source:"@site/docs/overview/integrate/incentives.md",sourceDirName:"integrate",slug:"/integrate/incentives",permalink:"/overview/integrate/incentives",draft:!1,editUrl:"https://github.com/osmosis-labs/docs/tree/main/docs/overview/integrate/incentives.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Source Initial Liquidity",permalink:"/overview/integrate/liquidity"},next:{title:"Ensure Visibility",permalink:"/overview/integrate/frontend"}},l={},p=[{value:"How to add External Incentives to a pool",id:"how-to-add-external-incentives-to-a-pool",level:2},{value:"Classic and Stableswap Pool Distribution mechanism",id:"classic-and-stableswap-pool-distribution-mechanism",level:3},{value:"Supercharged Pool Distribution mechanism",id:"supercharged-pool-distribution-mechanism",level:3},{value:"Creating an External Incentives Gauge",id:"creating-an-external-incentives-gauge",level:3},{value:"Internal incentives",id:"internal-incentives",level:2},{value:"Superfluid Staking",id:"superfluid-staking",level:2}],u={toc:p};function c(e){let{components:t,...i}=e;return(0,a.kt)("wrapper",(0,n.Z)({},u,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"liquidity-incentives"},"Liquidity Incentives"),(0,a.kt)("p",null,"Liquidity Providers on Osmosis receive swap fees by default, but can receive additional liquidity incentives from many sources."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"#external-incentives"},"External Incentives")),(0,a.kt)("p",{parentName:"li"},"Osmosis allows for the permissionless creation of external liquidity mining gauges, allowing projects to add their own rewards to further incentivize users to provide liquidity into a pool.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"#internal-incentives"},"Internal Incentives")),(0,a.kt)("p",{parentName:"li"},"Osmosis allocates up to 20% of inflation to incentivize users to bond their liquidity on Osmosis. If a pool is included by governance then it will be allocated a share of incentives based on several factors such as type of asset, swap fees generated in the pool, age of listing and sustained volumes.\nOsmosis currently only incentivizes pools composed of a very limited set of tokens as of ",(0,a.kt)("a",{parentName:"p",href:"https://www.mintscan.io/osmosis/proposals/638"},"Proposal 638"),".")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("a",{parentName:"p",href:"#superfluid-staking"},"Superfluid Staking")),(0,a.kt)("p",{parentName:"li"},"If enabled on a pool, a portion of the OSMO within can also be staked. Providing additional security to Osmosis as well as giving the liquidity providers additional staking rewards and the ability to participate in governance.\nSuperfluid staking is only available on Classic pools or full range Supercharged Pools."))),(0,a.kt)("h2",{id:"how-to-add-external-incentives-to-a-pool"},"How to add External Incentives to a pool"),(0,a.kt)("p",null,"External Incentives are an effective way to incentivize users to provide liquidity by enabling an additional reason to provide liquidity apart from swap fees."),(0,a.kt)("p",null,"Creating an incentive gauge is permissionless, anyone can deposit tokens into a gauge to be distributed as bonding incentives."),(0,a.kt)("p",null,"There is a small fee in OSMO to create a gauge, which is transferred from the running wallet's balance to the Osmosis Community Pool. At the time of writing this is 50 OSMO."),(0,a.kt)("h3",{id:"classic-and-stableswap-pool-distribution-mechanism"},"Classic and Stableswap Pool Distribution mechanism"),(0,a.kt)("p",null,"In Classic and Stableswap pools, it is possible to add incentives to 14-day gauges*. As long as a provider bonds liquidity for at least the time that is specified, they will receive a share of incentives at epoch. "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"1 and 7 day gauges are also possible through the SDK, but this is ",(0,a.kt)("strong",{parentName:"li"},"not")," suggested and may be removed entirely in the near future")),(0,a.kt)("h3",{id:"supercharged-pool-distribution-mechanism"},"Supercharged Pool Distribution mechanism"),(0,a.kt)("p",null,"In Supercharged pools, incentives are distributed block by block according to the ratio of liquidity provision to the active tick.\nFor example, if 14,400 FOO per day is allocated to the pool, with an average of six seconds per block, there will be 1 FOO distributed per block."),(0,a.kt)("p",null,"In this example Wosmongton and Amelia are both providing the same quantity of tokens to the Supercharged pool."),(0,a.kt)("p",null,"Wosmongton provides liquidity across a nine times wider range than Amelia. Therefore, Amelia is providing nine times the liquidity at the active tick. "),(0,a.kt)("p",null,"Wosmongton receives 0.1 FOO per block, while Amelia receives 0.9 FOO per block. Amelia's liquidity is more efficiently used, but may require adjusting more frequently and so would be subject to impermanent loss and trading fees in order to establish a new position around the new active tick."),(0,a.kt)("h3",{id:"creating-an-external-incentives-gauge"},"Creating an External Incentives Gauge"),(0,a.kt)("p",null,"Currently, the only way to create an external incentive gauge is to use the ",(0,a.kt)("a",{parentName:"p",href:"https://docs.osmosis.zone/osmosis-core/osmosisd"},"CLI"),"."),(0,a.kt)("p",null,"The command to run takes the format:\n",(0,a.kt)("inlineCode",{parentName:"p"},"osmosisd tx incentives create-gauge [lockup_denom] [reward] [poolId] [flags]")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"[lockup_denom]")," takes the form of the pool's GAMM token such as gamm/pool/1, this can be set to 0 for Supercharged pools"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"[reward]")," is the quantity of the base denom that you are adding to the pool, such as 1355000000uosmo for 1355 OSMO tokens."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"[poolId]")," is the pool ID of the Supercharged pool, this should be set to 0 for Classic and Stableswap pools"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"[flags]")," required specific to this transaction are "),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"--duration")," "),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"In Classic or Stableswap pools this specifies the length of time that a provider must be bonded for to receive incentives. This is typically 336h.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"In Supercharged pools this specifies the length of time that a position must be in place to receive incentives. Permitted values are 1ns, 60s, 1h and 24h. Typical values are 60s or 1h for a volatile pairing, and 1h or 24h for a highly correlated pairing. If not specified this defaults to 1 minute."))),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"--epochs")," which specifies the number of days that these incentives will be distributed over"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"--start-time")," which specifies a Unix timestamp to begin incentives on, they will begin distribution the epoch after this time"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Example Supercharged command")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"osmosisd tx incentives create-gauge 0 1355000000uosmo 1081 --epochs 30 --duration 60s --start-time 1698328800 --from Wosmongton --gas=auto --gas-prices 0.0025uosmo --gas-adjustment 1.3")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Example Classic Pool command")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"osmosisd tx incentives create-gauge gamm/pool/1 1355000000uosmo 0 --duration 336h --epochs 30 --start-time 1698328800 --from Wosmongton --gas=auto --gas-prices 0.0025uosmo --gas-adjustment 1.3")),(0,a.kt)("h2",{id:"internal-incentives"},"Internal incentives"),(0,a.kt)("p",null,"Internal incentives are provided from Osmosis inflation at each Epoch. Each pool on Osmosis has gauges that may be assigned a weighting to receive a share of these emissions. This weighting can be viewed on chain by ",(0,a.kt)("a",{parentName:"p",href:"https://docs.osmosis.zone/osmosis-core/modules/pool-incentives#queries"},"querying the poolincentives module"),"."),(0,a.kt)("p",null,"To see how these weightings translate into incentive rates and expected changes at the next adjustment there is a dashboard available from ",(0,a.kt)("a",{parentName:"p",href:"https://community-staging.chaoslabs.xyz/osmosis/incentives-optimization"},"Chaos Labs"),"."),(0,a.kt)("p",null,"Adjustments happen monthly and are required to be voted through Osmosis Governance in order to directly approve changes to the on chain parameters. An example of this is ",(0,a.kt)("a",{parentName:"p",href:"https://www.mintscan.io/osmosis/proposals/647"},"Proposal 647"),"."),(0,a.kt)("p",null,"Calculations to determine incentive weighting for each pool were set in ",(0,a.kt)("a",{parentName:"p",href:"https://www.mintscan.io/osmosis/proposals/578"},"Proposal 578"),"."),(0,a.kt)("p",null,"These use the incentives research carried out ",(0,a.kt)("a",{parentName:"p",href:"https://hathornodes.com/osmosis_incentives_research.html"},"documented in this paper")," and the ",(0,a.kt)("a",{parentName:"p",href:"https://hathornodes.com/incentives_research_update.html"},"revision to this")," based on community feedback."),(0,a.kt)("p",null,"In summary, liquidity targets are set based on:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Aiming to have slippage of 0.25% for most retail swaps, with 2.5% allowed for whale swaps."),(0,a.kt)("li",{parentName:"ul"},"Minimum liquidity targets to defend against Oracle manipulation")),(0,a.kt)("p",null,"Incentives are then adjusted by up to 10% per month until that liquidity target is reached."),(0,a.kt)("h2",{id:"superfluid-staking"},"Superfluid Staking"),(0,a.kt)("p",null,"Osmosis Superfluid Staking can further incentivize users to provide liquidity to a pool, as they are able to stake their LP tokens for additional rewards as well as participating in Osmosis governance. The rewards from superfluid staking come from a portion of the OSMO in the pool being staked, so only OSMO pools can qualify for superfluid staking."),(0,a.kt)("p",null,"Superfluid staking is only available on full range positions in Supercharged pools and is currently only enabled on major pairings with OSMO."),(0,a.kt)("p",null,"The feature is enabled by via on-chain governance by a ",(0,a.kt)("inlineCode",{parentName:"p"},"Set Superfluid Asset")," Proposal. These proposals must also be posted to the ",(0,a.kt)("a",{parentName:"p",href:"https://forum.osmosis.zone/"},"Osmosis Governance Forum")," for 3 days before moving to chain."),(0,a.kt)("p",null,"For an example of a Superfluid proposal see ",(0,a.kt)("a",{parentName:"p",href:"https://www.mintscan.io/osmosis/proposals/546"},"Proposal #546: Enable Superfluid Staking on OSMO/KAVA")),(0,a.kt)("p",null,"For instructions on how to carry out a ",(0,a.kt)("inlineCode",{parentName:"p"},"Set Superfluid Asset")," Proposal via ",(0,a.kt)("a",{parentName:"p",href:"https://docs.osmosis.zone/osmosis-core/osmosisd"},"CLI")," see ",(0,a.kt)("a",{parentName:"p",href:"https://docs.osmosis.zone/osmosis-core/modules/gov#submit-proposal-set-superfluid-asset"},"Gov Module Documentation")))}c.isMDXComponent=!0}}]);