<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-osmosis-core docs-doc-id-modules/gamm/README">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">GAMM | Osmosis Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.osmosis.zone/img/osmosis-docs-card.png"><meta data-rh="true" name="twitter:image" content="https://docs.osmosis.zone/img/osmosis-docs-card.png"><meta data-rh="true" property="og:url" content="https://docs.osmosis.zone/osmosis-core/modules/gamm"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-osmosis-core-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-osmosis-core-current"><meta data-rh="true" property="og:title" content="GAMM | Osmosis Docs"><meta data-rh="true" name="description" content="The `GAMM` module (Generalized Automated Market Maker) provides the logic to create and interact with liquidity pools on the Osmosis DEX."><meta data-rh="true" property="og:description" content="The `GAMM` module (Generalized Automated Market Maker) provides the logic to create and interact with liquidity pools on the Osmosis DEX."><link data-rh="true" rel="icon" href="/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.osmosis.zone/osmosis-core/modules/gamm"><link data-rh="true" rel="alternate" href="https://docs.osmosis.zone/osmosis-core/modules/gamm" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.osmosis.zone/osmosis-core/modules/gamm" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://2CBDVP21VK-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Osmosis Docs" href="/opensearch.xml">










<link rel="preconnect" href="https://app.posthog.com">
<script>!function(t,e){var o,p,i,n;e.__SV||(window.posthog=e,e._i=[],e.init=function(r,s,a){function c(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(i=t.createElement("script")).type="text/javascript",i.async=!0,i.src=s.api_host+"/static/array.js",(n=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,n);var g=e;for(void 0!==a?g=e[a]=[]:a="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<o.length;p++)c(g,o[p]);e._i.push([r,s,a])},e.__SV=1)}(document,window.posthog||[]),posthog.init("00",{api_host:"https://app.posthog.com"})</script>

<script src="https://tally.so/widgets/embed.js"></script>
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="c5b5e9fc-d025-4c12-b08e-9784d0e2161f" data-project-name="Osmosis" data-project-color="#7900B4" data-project-logo="https://app.osmosis.zone/tokens/osmo.svg" async></script><link rel="stylesheet" href="/assets/css/styles.792232e5.css">
<link rel="preload" href="/assets/js/runtime~main.bc823761.js" as="script">
<link rel="preload" href="/assets/js/main.b7be9099.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/logo/light.svg" alt="Osmosis Docs" class="themedImage_ToTc themedImage--light_HNdA" height="26px" width="114px"><img src="/logo/dark.svg" alt="Osmosis Docs" class="themedImage_ToTc themedImage--dark_i4oU" height="26px" width="114px"></div></a><a class="navbar__item navbar__link" href="/overview/educate">Overview</a><a class="navbar__item navbar__link" href="/overview/integrate">Integrate</a><a class="navbar__item navbar__link" href="/overview/validate">Validate &amp; Run your Node</a><a class="navbar__item navbar__link" href="/overview/endpoints">Endpoints</a><a class="navbar__item navbar__link" href="/overview/features">Features</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/osmosis-core">Develop</a><a href="https://github.com/osmosis-labs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link pseudo-icon github-icon"></a><a href="https://discord.com/invite/osmosis" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link pseudo-icon discord-icon"></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://app.osmosis.zone" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link dev-portal-signup dev-portal-link">Launch Dex<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_mhZE"><div class="multiSectionContainer_bYm7"><div class="section_olD1 sectionActive_D9yk" tabindex="0"><div>Osmosis Core</div><div><div class="row_KvCx"><button type="button" role="combobox" aria-controls="" aria-expanded="false" aria-autocomplete="none" aria-label="Select Section" class="sections-menu-trigger"><span style="pointer-events:none"></span><span aria-hidden="true"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="sections-menu-scrollButton"><path d="M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span></button><select aria-hidden="true" tabindex="-1" style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal"></select></div></div></div><div class="section_olD1" tabindex="0"><div>CosmWasm</div><div><p class="description_C5q3">Building and interacting with Smart contracts on Osmosis.</p></div></div><div class="section_olD1" tabindex="0"><div>Frontend &amp; SDKs</div><div><p class="description_C5q3">Libraries &amp; UI components to build on top of Osmosis.</p></div></div></div><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/osmosis-core">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/osmosis-core/build">Build and Test</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/osmosis-core/osmosisd">Osmosis CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/osmosis-core/ide-guide">IDE Setup</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/osmosis-core/category/modules">Modules</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modules&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/concentrated-liquidity">Concentrated Liquidity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/cosmwasmpool">CosmWasm Pool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/downtime-detector">Downtime-detector</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/epochs">Epochs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/osmosis-core/modules/gamm">GAMM</a><button aria-label="Toggle the collapsible sidebar category &#x27;GAMM&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/osmosis-core/modules/gamm/client/docs">client</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/osmosis-core/modules/gamm/pool-models/stableswap">pool-models</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/gov">Gov</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/ibc-hooks">IBC-hooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/ibc-rate-limit">IBC Rate Limit</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/incentives">Incentives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/lockup">Lockup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/mint">Mint</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/pool-incentives">Pool Incentives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/pool-manager">Pool Manager Module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/protorev">Osmosis modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/superfluid">Superfluid Staking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/tokenfactory">Token Factory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/twap">TWAP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/txfees">Txfees</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/osmosis-core/modules/valpref-module">validator-set Preference</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/osmosis-core/asset-info">Asset Info</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/osmosis-core/category/keys-management">Keys Management</a><button aria-label="Toggle the collapsible sidebar category &#x27;Keys Management&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/osmosis-core/category/relayer">Relayer</a><button aria-label="Toggle the collapsible sidebar category &#x27;Relayer&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/osmosis-core/contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/osmosis-core/ibc">IBC Protocol</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/osmosis-core/category/guides">Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>GAMM</h1><p>The <code>GAMM</code> module (<strong>G</strong>eneralized <strong>A</strong>utomated <strong>M</strong>arket <strong>M</strong>aker) provides the logic to create and interact with liquidity pools on the Osmosis DEX.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="contents">Contents<a class="hash-link" href="#contents" title="Direct link to heading">​</a></h2><ol><li><strong><a href="#concepts">Concepts</a></strong></li><li><strong><a href="#weights">Weights</a></strong></li><li><strong><a href="#network-parameters">Pool Parameters</a></strong></li><li><strong><a href="#messages">Messages</a></strong></li><li><strong><a href="#transactions">Transactions</a></strong></li><li><strong><a href="#queries-and-transactions">Queries and Transactions</a></strong></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="concepts">Concepts<a class="hash-link" href="#concepts" title="Direct link to heading">​</a></h2><p>The <code>x/gamm</code> module implements an AMM using:</p><ul><li>Balancer style pools with varying amounts and weights of assets in pools.</li><li>Stableswap pools have liquidity centered around a given spot price. See <a href="https://github.com/osmosis-labs/osmosis/blob/main/x/gamm/pool-models/stableswap/README.md" target="_blank" rel="noopener noreferrer">here</a> for the spec of the Osmosis implementation.</li></ul><p>Here we will explain basic GAMM concepts and give an overview of how GAMM module&#x27;s code is organized to support both type of pools.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pool">Pool<a class="hash-link" href="#pool" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="creation-of-pool">Creation of Pool<a class="hash-link" href="#creation-of-pool" title="Direct link to heading">​</a></h4><p>At an initial creation of the pool, a fixed amount of 100 share token is
minted in the pool and sent to the creator of the pool&#x27;s account. The
pool share denom is in the format of <code>gamm/pool/{poolID}</code> and is
displayed in the format of <code>GAMM-{poolID}</code> to the user.
Pool assets are sorted in alphabetical order by default.
Pool creation is possible only for at least 2 and no more than 8 denominations.</p><p><code>PoolCreationFee</code> needs to be paid to create the pool. This also keeps
us safe when it comes to the malicious creation of unneeded pools.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="joining-pool">Joining Pool<a class="hash-link" href="#joining-pool" title="Direct link to heading">​</a></h4><p>When joining a pool without swapping - with <code>JoinPool</code>, a user can provide the maximum amount of tokens <code>TokenInMaxs&#x27;
they&#x27;re willing to deposit. This argument must contain all the denominations from the pool or no tokens at all, 
otherwise, the tx will be aborted.
If </code>TokenInMaxs` contains no tokens, the calculations are done based on the user&#x27;s balance as the only constraint.</p><p>The front end takes care of the
calculation of how many share tokens the user is eligible for at the
specific moment of sending the transaction.</p><p>Calculation of exactly how many tokens are needed to get the designated
share is done at the moment of processing the transaction, validating
that it does not exceed the maximum amount of tokens the user is willing
to deposit. After the validation, GAMM share tokens of the pool are
minted and sent to the user&#x27;s account.</p><p>Joining the pool using a single asset is also possible with <code>JoinSwapExternAmountIn</code>.</p><p>Existing Join types:</p><ul><li>JoinPool</li><li>JoinSwapExternAmountIn</li><li>JoinSwapShareAmountOut</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="join-types-code-call-stack-and-structure">Join types code call stack and structure:<a class="hash-link" href="#join-types-code-call-stack-and-structure" title="Direct link to heading">​</a></h4><img loading="lazy" src="GAMM_JoinPoolMsgs.png" height="500" class="img_ev3q"><br><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exiting-pool">Exiting Pool<a class="hash-link" href="#exiting-pool" title="Direct link to heading">​</a></h4><p>When exiting a pool, the user provides the minimum amount of tokens they
are willing to receive as they are returning their shares of the pool.
However, unlike joining a pool, exiting a pool requires the user to pay
the exit fee, which is set as a param of the pool. The user&#x27;s share
tokens burnt as result. Exiting the pool using a single asset is also
possible.</p><p>Exiting a pool is possible only if user will leave a positive balance for a certain denomination after exiting
or positive number of LP shares.
Otherwise transaction will be aborted and user will not be able to exit a pool.
Therefore, it is not possible to &quot;drain out&quot; a pool.</p><p>When exiting a pool with a swap, both exit and swap fees are paid.</p><p>Existing Exit types:</p><ul><li>ExitPool</li><li>ExitSwapExternAmountOut</li><li>ExitSwapShareAmountIn</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="exit-types-code-call-stack-and-structure">Exit types code call stack and structure:<a class="hash-link" href="#exit-types-code-call-stack-and-structure" title="Direct link to heading">​</a></h4><img loading="lazy" src="GAMM_ExitPoolMsgs.png" height="500" class="img_ev3q"><br><h3 class="anchor anchorWithStickyNavbar_LWe7" id="swap">Swap<a class="hash-link" href="#swap" title="Direct link to heading">​</a></h3><p>During the process of swapping a specific asset, the token the user is
putting into the pool is denoted as <code>tokenIn</code>, while the token that
would be returned to the user, the asset that is being swapped for,
after the swap is denoted as <code>tokenOut</code> throughout the module.</p><p>Given a <code>tokenIn</code>, the following calculations are done to calculate how
many tokens are to be swapped into and removed from the pool:</p><p><code>tokenBalanceOut * [1 - { tokenBalanceIn / (tokenBalanceIn + (1 - swapFee) * tokenAmountIn)} ^ (tokenWeightIn / tokenWeightOut)]</code></p><p>The calculation is also able to be reversed, the case where user
provides <code>tokenOut</code>. The calculation for the amount of tokens that the
user should be putting in is done through the following formula:</p><p><code>tokenBalanceIn * [{tokenBalanceOut / (tokenBalanceOut - tokenAmountOut)} ^ (tokenWeightOut / tokenWeightIn) -1] / tokenAmountIn</code></p><p>Existing Swap types:</p><ul><li>SwapExactAmountIn</li><li>SwapExactAmountOut</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="spot-price">Spot Price<a class="hash-link" href="#spot-price" title="Direct link to heading">​</a></h4><p>Meanwhile, calculation of the spot price with a swap fee is done using
the following formula:</p><p><code>spotPrice / (1 - swapFee)</code>, where <code>spotPrice</code> is defined as:</p><p><code>(tokenBalanceIn / tokenWeightIn) / (tokenBalanceOut / tokenWeightOut)</code></p><p><a href="https://github.com/osmosis-labs/osmosis/blob/main/x/gamm/keeper/swap.go" target="_blank" rel="noopener noreferrer">Spot price</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="multi-hop">Multi-Hop<a class="hash-link" href="#multi-hop" title="Direct link to heading">​</a></h4><p>The multi-hop logic is handled via <code>x/poolmanager</code> module.
Please see for details:</p><ul><li><a href="https://github.com/osmosis-labs/osmosis/blob/main/x/poolmanager/README.md" target="_blank" rel="noopener noreferrer">https://github.com/osmosis-labs/osmosis/blob/main/x/poolmanager/README.md</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="weights">Weights<a class="hash-link" href="#weights" title="Direct link to heading">​</a></h2><p>Weights refer to the how we weight the reserves of assets within a pool.
Its often convenient to think of weights in terms of ratios, so a 1:1
pool between &quot;ATOM&quot; and &quot;BTC&quot; is a pool where the spot price is
<code>#ATOM in pool / #BTC in pool</code>.</p><p>A 2:1 pool is one where the spot price is
<code>2*(#ATOM in pool) / #BTC in pool</code>. This weights allows one to get the
same spot price in the pool, with fewer ATOM reserves. (This comes at
the cost of having higher slippage, e.g. buying 10 atoms moves the price
more than a 1:1 pool with the same BTC liquidity).</p><p>Within the state machine, we represent weights as numbers, and the
ratios are computed internally. So you could specify a pool between
three assets, with weights 100:30:50, which is equivalent to a 10:3:5
pool.</p><p>The ratios provided in a CreatePool message, or governance proposal are
capped at 2\^20. However, within the state machine they are stored with
an extra 30 bits of precision, allowing for smooth changes between two
weights to happen with sufficient granularity.</p><p>(Note, these docs are intended to get shuffled around as we write more
of the spec for x/gamm. I just wanted to document this along with the
PR, to save work for our future selves)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="network-parameters">Network Parameters<a class="hash-link" href="#network-parameters" title="Direct link to heading">​</a></h2><p>Pools have the following parameters:</p><table><thead><tr><th>Key</th><th>Type</th></tr></thead><tbody><tr><td>SwapFee</td><td>sdk.Dec</td></tr><tr><td>ExitFee</td><td>sdk.Dec</td></tr><tr><td>FutureGovernor</td><td>*<!-- -->FutureGovernor</td></tr><tr><td>Weights</td><td>*<!-- -->Weights</td></tr><tr><td>SmoothWeightChangeParams</td><td>*<!-- -->SmoothWeightChangeParams</td></tr><tr><td>PoolCreationFee</td><td>sdk.Coins</td></tr></tbody></table><ol><li><strong>SwapFee</strong> -
The swap fee is the cut of all swaps that goes to the Liquidity Providers (LPs) for a pool. Suppose a pool has a swap fee <code>s</code>. Then if a user wants to swap <code>T</code> tokens in the pool, <code>sT</code> tokens go to the LP&#x27;s, and then <code>(1 - s)T</code> tokens are swapped according to the AMM swap function.</li><li><strong>ExitFee</strong> -
The exit fee is a fee that is applied to LP&#x27;s that want to remove their liquidity from the pool. Suppose a pool has an exit fee <code>e</code>. If they currently have <code>S</code> LP shares, then when they remove their liquidity they get tokens worth <code>(1 - e)S</code> shares back. The remaining <code>eS</code> shares are then burned, and the tokens corresponding to these shares are kept as liquidity.</li><li><strong>FutureGovernor</strong> -
Osmosis plans to allow every pool to act as a DAO, with its own governance in a future upgrade. To facilitate this transition, we allow pools to specify who the governor should be as a string. There are currently 3 options for the future governor.<ul><li>No one will govern it. This is done by leaving the future governor string as blank.</li><li>Allow a given address to govern it. This is done by setting the future governor as a bech32 address.</li><li>Lockups to a token. This is the full DAO scenario. The future governor specifies a token denomination <code>denom</code>, and a lockup duration <code>duration</code>. This says that &quot;all tokens of denomination <code>denom</code> that are locked up for <code>duration</code> or longer, have equal say in governance of this pool&quot;.</li></ul></li><li><strong>Weights</strong> -
This defines the weights of the pool - <a href="https://balancer.fi/whitepaper.pdf" target="_blank" rel="noopener noreferrer">https://balancer.fi/whitepaper.pdf</a></li><li><strong>SmoothWeightChangeParams</strong> -
This allows pool governance to smoothly change the weights of the assets it holds in the pool. So it can slowly move from a 2:1 ratio, to a 1:1 ratio.
Currently, smooth weight changes are implemented as a linear change in weight ratios over a given duration of time. So weights changed from 4:1 to 2:2 over 2 days, then at day 1 of the change, the weights would be 3:1.5, and at day 2 its 2:2, and will remain at these weight ratios.</li></ol><p>The GAMM module also has a <strong>PoolCreationFee</strong> parameter, which currently is set to <code>100000000 uusdc</code> or <code>100 USDC</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-records">Migration Records<a class="hash-link" href="#migration-records" title="Direct link to heading">​</a></h2><p>Migration records are used to track a canonical link between a single balancer pool and its corresponding concentrated liquidity pool. There is a single <code>MigrationRecords</code> object for the entire gamm module that consists of many <code>BalancerToConcentratedPoolLink</code> objects. Each balancer pool can be linked to a maximum of one concentrated liquidity pool, and each concentrated liquidity pool can be linked to a maximum of one balancer pool. The entire <code>MigrationRecords</code> object can be either replaced through governance via <code>ReplaceMigrationRecordsProposal</code> or specific pool links can be added/removed/modified through governance via <code>UpdateMigrationRecordsProposal</code> (similar to how incentives are replaced and updated).</p><br><br><h2 class="anchor anchorWithStickyNavbar_LWe7" id="messages">Messages<a class="hash-link" href="#messages" title="Direct link to heading">​</a></h2><p>The <code>x/gamm</code> module supports the following message types:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="msgcreatebalancerpool">MsgCreateBalancerPool<a class="hash-link" href="#msgcreatebalancerpool" title="Direct link to heading">​</a></h3><p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/pool-models/balancer/tx.proto#L16-L26" target="_blank" rel="noopener noreferrer">MsgCreateBalancerPool</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="msgjoinpool">MsgJoinPool<a class="hash-link" href="#msgjoinpool" title="Direct link to heading">​</a></h3><p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L27-L39" target="_blank" rel="noopener noreferrer">MsgJoinPool</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="msgexitpool">MsgExitPool<a class="hash-link" href="#msgexitpool" title="Direct link to heading">​</a></h3><p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L44-L57" target="_blank" rel="noopener noreferrer">MsgExitPool</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="msgswapexactamountin">MsgSwapExactAmountIn<a class="hash-link" href="#msgswapexactamountin" title="Direct link to heading">​</a></h3><p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L68-L80" target="_blank" rel="noopener noreferrer">MsgSwapExactAmountIn</a></p><p>Note, that this message was deprecated and moved to <code>x/poolmanager</code>. Please use the <code>MsgSwapExactAmountIn</code> message
in <code>x/poolmanager</code> instead.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="msgswapexactamountout">MsgSwapExactAmountOut<a class="hash-link" href="#msgswapexactamountout" title="Direct link to heading">​</a></h3><p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L90-L102" target="_blank" rel="noopener noreferrer">MsgSwapExactAmountOut</a></p><p>Note, that this message was deprecated and moved to <code>x/poolmanager</code>. Please use the <code>MsgSwapExactAmountOut</code> message
in <code>x/poolmanager</code> instead.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="msgjoinswapexternamountin">MsgJoinSwapExternAmountIn<a class="hash-link" href="#msgjoinswapexternamountin" title="Direct link to heading">​</a></h3><p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L107-L119" target="_blank" rel="noopener noreferrer">MsgJoinSwapExternAmountIn</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="msgjoinswapshareamountout">MsgJoinSwapShareAmountOut<a class="hash-link" href="#msgjoinswapshareamountout" title="Direct link to heading">​</a></h4><p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L124-L138" target="_blank" rel="noopener noreferrer">MsgJoinSwapShareAmountOut</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="msgexitswapshareamountin">MsgExitSwapShareAmountIn<a class="hash-link" href="#msgexitswapshareamountin" title="Direct link to heading">​</a></h4><p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L143-L158" target="_blank" rel="noopener noreferrer">MsgExitSwapShareAmountIn</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="msgexitswapexternamountout">MsgExitSwapExternAmountOut<a class="hash-link" href="#msgexitswapexternamountout" title="Direct link to heading">​</a></h4><p><a href="https://github.com/osmosis-labs/osmosis/blob/v7.1.0/proto/osmosis/gamm/v1beta1/tx.proto#L163-L175" target="_blank" rel="noopener noreferrer">MsgExitSwapExternAmountOut</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transactions">Transactions<a class="hash-link" href="#transactions" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-pool">Create pool<a class="hash-link" href="#create-pool" title="Direct link to heading">​</a></h3><p>Create a new liquidity pool and provide initial liquidity to it.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm create-pool [config-file] --from --chain-id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>::: details Example
The JSON <!-- -->[config-file]<!-- --> must specify the following parameters:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> </span><span class="token property">&quot;weights&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">list weighted denoms</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> </span><span class="token property">&quot;initial-deposit&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">list of denoms with initial deposit amount</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> </span><span class="token property">&quot;swap-fee&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">swap fee in percentage</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> </span><span class="token property">&quot;exit-fee&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">exit fee in percentage</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> </span><span class="token property">&quot;future-governor&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">see options in pool parameters section above</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Create a new 50/50 AKT-OSMO liquidity pool with a swap and exit fee of 1%.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm create-pool --pool-file [config-file] --from WALLET_NAME --chain-id osmosis-1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The configuration json file contains the following parameters:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> </span><span class="token property">&quot;weights&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;5ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4,5uosmo&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> </span><span class="token property">&quot;initial-deposit&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;499404ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4,500000uosmo&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> </span><span class="token property">&quot;swap-fee&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;0.01&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> </span><span class="token property">&quot;exit-fee&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;0.01&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> </span><span class="token property">&quot;future-governor&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>:::</p><p>::: warning
There is now a 100 USDC fee for creating pools.
:::</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="join-pool">Join pool<a class="hash-link" href="#join-pool" title="Direct link to heading">​</a></h3><p>Add liquidity to a specified pool to get an <strong>exact</strong> amount of LP shares while specifying a <strong>maximum</strong> number tokens willing to swap to receive said LP shares.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm join-pool --pool-id --max-amounts-in --share-amount-out --from --chain-id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>::: details Example</p><p>Join <code>pool 3</code> with a <strong>maximum</strong> of <code>.037753 AKT</code> and the corresponding amount of <code>OSMO</code> to get an <strong>exact</strong> share amount of <code>1.227549469722224220 gamm/pool/3</code> using <code>WALLET_NAME</code> on the osmosis mainnet:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm join-pool --pool-id 3 --max-amounts-in 37753ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4 --share-amount-out 1227549469722224220 --from WALLET_NAME --chain-id osmosis-1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>:::</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exit-pool">Exit pool<a class="hash-link" href="#exit-pool" title="Direct link to heading">​</a></h3><p>Remove liquidity from a specified pool with an <strong>exact</strong> amount of LP shares while specifying the <strong>minimum</strong> number of tokens willing to receive for said LP shares.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm exit-pool --pool-id --min-amounts-out --share-amount-in --from --chain-id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>::: details Example</p><p>Exit <code>pool 3</code> with for <strong>exactly</strong> <code>1.136326462628731195 gamm/pool/3</code> in order to receive a <strong>minimum</strong> of <code>.033358 AKT</code> and the corresponding amount of <code>OSMO</code> using <code>WALLET_NAME</code> on the osmosis mainnet:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm exit-pool --pool-id 3 --min-amounts-out 33358ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4 --share-amount-in 1136326462628731195 --from WALLET_NAME --chain-id osmosis-1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>:::</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="join-swap-extern-amount-in">Join-swap-extern-amount-in<a class="hash-link" href="#join-swap-extern-amount-in" title="Direct link to heading">​</a></h3><p>Add liquidity to a specified pool with only one of the required assets (i.e. Join pool 1 (50/50 ATOM-OSMO) with just ATOM).</p><p>This command essentially swaps an <strong>exact</strong> amount of an asset for the required pairing and then converts the pair to a <strong>minimum</strong> of the requested LP shares in a single step (i.e. combines the <code>swap-exact-amount-in</code> and <code>join-pool</code> commands)</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm join-swap-extern-amount-in [token-in] [share-out-min-amount] --from --pool-id --chain-id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>::: details Example</p><p>Join <code>pool 3</code> with <strong>exactly</strong> <code>.200000 AKT</code> (and <code>0 OSMO</code>) to get a <strong>minimum</strong> of <code>3.234812471272883046 gamm/pool/3</code> using <code>WALLET_NAME</code> on the osmosis mainnet:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm join-swap-extern-amount-in 200000ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4 3234812471272883046 --pool-id 3 --from WALLET_NAME --chain-id osmosis-1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>:::</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exit-swap-extern-amount-out">Exit-swap-extern-amount-out<a class="hash-link" href="#exit-swap-extern-amount-out" title="Direct link to heading">​</a></h3><p>Remove liquidity from a specified pool with a <strong>maximum</strong> amount of LP shares and swap to an <strong>exact</strong> amount of one of the token pairs (i.e. Leave pool 1 (50/50 ATOM-OSMO) and receive 100% ATOM instead of 50% OSMO and 50% ATOM).</p><p>This command essentially converts an LP share into the corresponding share of tokens and then swaps to the specified <code>token-out</code> in a single step (i.e. combines the <code>swap-exact-amount-out</code> and <code>exit-pool</code> commands)</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm exit-swap-extern-amount-out [token-out] [share-in-max-amount] --pool-id --from --chain-id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>::: details Example</p><p>Exit <code>pool 3</code> by removing a <strong>maximum</strong> of <code>3.408979387886193586 gamm/pool/3</code> and swap the <code>OSMO</code> portion of the LP share to receive 100% AKT in the <strong>exact</strong> amount of <code>0.199430 AKT</code>:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm exit-swap-extern-amount-out 199430ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4 3408979387886193586 --pool-id 3 --from WALLET_NAME --chain-id osmosis-1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>:::</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="join-swap-share-amount-out">Join-swap-share-amount-out<a class="hash-link" href="#join-swap-share-amount-out" title="Direct link to heading">​</a></h3><p>Swap a <strong>maximum</strong> amount of a specified token for another token, similar to swapping a token on the trade screen GUI (i.e. takes the specified asset and swaps it to the other asset needed to join the specified pool) and then adds an <strong>exact</strong> amount of LP shares to the specified pool.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm join-swap-share-amount-out [token-in-denom] [share-out-amount] [token-in-max-amount] --pool-id --from --chain-id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>::: details Example</p><p>Swap a <strong>maximum</strong> of <code>0.312466 OSMO</code> for the corresponding amount of <code>AKT</code>, then join <code>pool 3</code> and receive <strong>exactly</strong> <code>1.4481270389710236872 gamm/pool/3</code>:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm join-swap-share-amount-out uosmo 14481270389710236872 312466 --pool-id 3 --from WALLET_NAME --chain-id osmosis-1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>:::</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="exit-swap-share-amount-in">Exit-swap-share-amount-in<a class="hash-link" href="#exit-swap-share-amount-in" title="Direct link to heading">​</a></h3><p>Remove an <strong>exact</strong> amount of LP shares from a specified pool, swap the LP shares to one of the token pairs to receive a <strong>minimum</strong> of the specified token amount.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm exit-swap-share-amount-in [token-out-denom] [share-in-amount] [token-out-min-amount] --pool-id --from --chain-id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>::: details Example</p><p>Exit <code>pool 3</code> by removing <strong>exactly</strong> <code>14.563185400026723131 gamm/pool/3</code> and swap the <code>AKT</code> portion of the LP share to receive 100% OSMO in the <strong>minimum</strong> amount of <code>.298548 OSMO</code>:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm exit-swap-share-amount-in uosmo 14563185400026723131 298548 --pool-id 3 --from WALLET_NAME --chain-id osmosis-1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>:::</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="swap-exact-amount-in">Swap-exact-amount-in<a class="hash-link" href="#swap-exact-amount-in" title="Direct link to heading">​</a></h3><p>Swap an <strong>exact</strong> amount of tokens for a <strong>minimum</strong> of another token, similar to swapping a token on the trade screen GUI.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm swap-exact-amount-in [token-in] [token-out-min-amount] --pool-id --from --chain-id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>::: details Example</p><p>Swap <strong>exactly</strong> <code>.407239 AKT</code> through <code>pool 3</code> into a <strong>minimum</strong> of <code>.140530 OSMO</code> using <code>WALLET_NAME</code> on the osmosis mainnet:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm swap-exact-amount-in 407239ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4 140530 --swap-route-pool-ids 3 --swap-route-denoms uosmo --from WALLET_NAME --chain-id osmosis-1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>:::</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="swap-exact-amount-out">Swap-exact-amount-out<a class="hash-link" href="#swap-exact-amount-out" title="Direct link to heading">​</a></h3><p>Swap a <strong>maximum</strong> amount of tokens for an <strong>exact</strong> amount of another token, similar to swapping a token on the trade screen GUI.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm swap-exact-amount-out [token-out] [token-out-max-amount] --swap-route-pool-ids --from --chain-id</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>::: details Example</p><p>Swap a <strong>maximum</strong> of <code>.407239 AKT</code> through <code>pool 3</code> into <strong>exactly</strong> <code>.140530 OSMO</code> using <code>WALLET_NAME</code> on the osmosis mainnet:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx gamm swap-exact-amount-out 140530uosmo 407239 --swap-route-pool-ids 3 --swap-route-denoms ibc/1480B8FD20AD5FCAE81EA87584D269547DD4D436843C1D20F15E00EB64743EF4 --from WALLET_NAME --chain-id osmosis-1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>:::</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="queries">Queries<a class="hash-link" href="#queries" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="queries-1">Queries<a class="hash-link" href="#queries-1" title="Direct link to heading">​</a></h2><p>The <strong>Query</strong> submodule of the GAMM module provides the logic to request information from the liquidity pools. It contains the following functions:</p><ul><li><a href="#estimate-swap-exact-amount-in">Estimate Swap Exact Amount In</a></li><li><a href="#estimate-swap-exact-amount-out">Estimate Swap Exact Amount Out</a></li><li><a href="#num-pools">Num Pools</a></li><li><a href="#pool">Pool</a></li><li><a href="#pool-assets">Pool Assets</a></li><li><a href="#pool-params">Pool Params</a></li><li><a href="#pools">Pools</a></li><li><a href="#spot-price">Spot Price</a></li><li><a href="#total-liquidity">Total Liquidity</a></li><li><a href="#total-share">Total Share</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="estimate-swap-exact-amount-in">Estimate Swap Exact Amount In<a class="hash-link" href="#estimate-swap-exact-amount-in" title="Direct link to heading">​</a></h3><p>Query the estimated result of the <a href="#swap-exact-amount-in">Swap Exact Amount In</a> transaction. Note that the flags <em>swap-route-pool</em> and <em>swap-route-denoms</em> are required.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a class="hash-link" href="#usage" title="Direct link to heading">​</a></h4><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm estimate-swap-exact-amount-in &lt;poolID&gt; &lt;sender&gt; &lt;tokenIn&gt; [flags]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a class="hash-link" href="#example" title="Direct link to heading">​</a></h4><p>Query the amount of ATOM the sender would receive for swapping 1 OSMO in pool 1.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm estimate-swap-exact-amount-in 1 osmo123nfq6m8f88m4g3sky570unsnk4zng4uqv7cm8 1000000uosmo --swap-route-pool-ids 1 --swap-route-denoms ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2 </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="estimate-swap-exact-amount-out">Estimate Swap Exact Amount Out<a class="hash-link" href="#estimate-swap-exact-amount-out" title="Direct link to heading">​</a></h3><p>Query the estimated result of the <a href="#swap-exact-amount-out">Swap Exact Amount Out</a> transaction. Note that the flags <em>swap-route-pool</em> and <em>swap-route-denoms</em> are required.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="usage-1">Usage<a class="hash-link" href="#usage-1" title="Direct link to heading">​</a></h4><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm estimate-swap-exact-amount-out &lt;poolID&gt; &lt;sender&gt; &lt;tokenOut&gt; [flags]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-1">Example<a class="hash-link" href="#example-1" title="Direct link to heading">​</a></h4><p>Query the amount of OSMO the sender would require to swap 1 ATOM out of pool 1.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm estimate-swap-exact-amount-out 1 osmo123nfq6m8f88m4g3sky570unsnk4zng4uqv7cm8 1000000ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2 --swap-route-pool-ids 1 --swap-route-denoms uosmo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="num-pools">Num Pools<a class="hash-link" href="#num-pools" title="Direct link to heading">​</a></h3><p>Query the number of active pools.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="usage-2">Usage<a class="hash-link" href="#usage-2" title="Direct link to heading">​</a></h4><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm num-pools</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pool-1">Pool<a class="hash-link" href="#pool-1" title="Direct link to heading">​</a></h2><p>Query the parameter and assets of a specific pool.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-3">Usage<a class="hash-link" href="#usage-3" title="Direct link to heading">​</a></h3><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm pool &lt;poolID&gt; [flags]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-2">Example<a class="hash-link" href="#example-2" title="Direct link to heading">​</a></h3><p>Query parameters and assets from pool 1.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm pool 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pool-assets">Pool Assets<a class="hash-link" href="#pool-assets" title="Direct link to heading">​</a></h3><p>Query the assets of a specific pool. This query is a reduced form of the <a href="#pool">Pool</a> query.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="usage-4">Usage<a class="hash-link" href="#usage-4" title="Direct link to heading">​</a></h4><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm pool-assets &lt;poolID&gt; [flags]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-3">Example<a class="hash-link" href="#example-3" title="Direct link to heading">​</a></h4><p>Query the assets from pool 1.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm pool-assets 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pool-params">Pool Params<a class="hash-link" href="#pool-params" title="Direct link to heading">​</a></h3><p>Query the parameters of a specific pool. This query is a reduced form of the <a href="#pool">Pool</a> query.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="usage-5">Usage<a class="hash-link" href="#usage-5" title="Direct link to heading">​</a></h4><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm pool-params &lt;poolID&gt; [flags]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Query the parameters from pool 1.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-4">Example<a class="hash-link" href="#example-4" title="Direct link to heading">​</a></h4><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm pool-params 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pools">Pools<a class="hash-link" href="#pools" title="Direct link to heading">​</a></h3><p>Query parameters and assets of all active pools.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="usage-6">Usage<a class="hash-link" href="#usage-6" title="Direct link to heading">​</a></h4><p>Query the price of OSMO based on the price of ATOM in pool 1.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm spot-price 1 uosmo ibc/27394FB092D2ECCD56123C74F36E4C1F926001CEADA9CA97EA622B25F41E5EB2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="total-liquidity">Total Liquidity<a class="hash-link" href="#total-liquidity" title="Direct link to heading">​</a></h3><p>Query the total liquidity of all active pools.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="usage-7">Usage<a class="hash-link" href="#usage-7" title="Direct link to heading">​</a></h4><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm total-liquidity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="total-share">Total Share<a class="hash-link" href="#total-share" title="Direct link to heading">​</a></h3><p>Query the total amount of GAMM shares of a specific pool.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="usage-8">Usage<a class="hash-link" href="#usage-8" title="Direct link to heading">​</a></h4><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm total-share &lt;poolID&gt; [flags]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-5">Example<a class="hash-link" href="#example-5" title="Direct link to heading">​</a></h4><p>Query the total amount of GAMM shares of pool 1.</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query gamm total-share 1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="other-resources">Other resources<a class="hash-link" href="#other-resources" title="Direct link to heading">​</a></h2><ul><li><a href="/osmosis-core/modules/gamm/client/docs/create-lbp-pool">Creating a liquidity bootstrapping pool</a></li><li><a href="/osmosis-core/modules/gamm/client/docs/create-pool">Creating a pool with a pool file</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="events">Events<a class="hash-link" href="#events" title="Direct link to heading">​</a></h2><p>There are 5 types of events that exist in GAMM:</p><ul><li><code>sdk.EventTypeMessage</code> - &quot;message&quot;</li><li><code>types.TypeEvtPoolJoined</code> - &quot;pool_joined&quot;</li><li><code>types.TypeEvtPoolExited</code> - &quot;pool_exited&quot;</li><li><code>types.TypeEvtPoolCreated</code> - &quot;pool_created&quot;</li><li><code>types.TypeEvtTokenSwapped</code> - &quot;token_swapped&quot;</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sdkeventtypemessage"><code>sdk.EventTypeMessage</code><a class="hash-link" href="#sdkeventtypemessage" title="Direct link to heading">​</a></h3><p>This event is emitted in the message server when any of the gamm messages finish execution.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="typestypeevtpooljoined"><code>types.TypeEvtPoolJoined</code><a class="hash-link" href="#typestypeevtpooljoined" title="Direct link to heading">​</a></h3><p>This event is emitted after one of <code>JoinPool</code> or <code>JoinPoolNoSwap</code> complete joining
the requested pool successfully.</p><p>It consists of the following attributes:</p><ul><li><code>sdk.AttributeKeyModule</code> - &quot;module&quot;<ul><li>The value is the module&#x27;s name - &quot;gamm&quot;.</li></ul></li><li><code>sdk.AttributeKeySender</code><ul><li>The value is the address of the sender who created the swap message.</li></ul></li><li><code>types.AttributeKeyPoolId</code><ul><li>The value is the pool id of the pool where swap occurs.</li></ul></li><li><code>types.AttributeKeyTokensIn</code><ul><li>The value is the string representation of the tokens being swapped in.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="typestypeevtpoolexited"><code>types.TypeEvtPoolExited</code><a class="hash-link" href="#typestypeevtpoolexited" title="Direct link to heading">​</a></h3><p>This event is emitted after <code>ExitPool</code> completes exiting
the requested pool successfully.</p><p>It consists of the following attributes:</p><ul><li><code>sdk.AttributeKeyModule</code> - &quot;module&quot;<ul><li>The value is the module&#x27;s name - &quot;gamm&quot;.</li></ul></li><li><code>sdk.AttributeKeySender</code><ul><li>The value is the address of the sender who created the swap message.</li></ul></li><li><code>types.AttributeKeyPoolId</code><ul><li>The value is the pool id of the pool where swap occurs.</li></ul></li><li><code>types.AttributeKeyTokensOut</code><ul><li>The value is the string representation of the tokens being swapped out.</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="typestypeevtpoolcreated"><code>types.TypeEvtPoolCreated</code><a class="hash-link" href="#typestypeevtpoolcreated" title="Direct link to heading">​</a></h3><p>This event is emitted after <code>CreatePool</code> completes creating
the requested pool successfully.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="typestypeevttokenswapped"><code>types.TypeEvtTokenSwapped</code><a class="hash-link" href="#typestypeevttokenswapped" title="Direct link to heading">​</a></h3><p>This event is emitted after one of <code>SwapExactAmountOut</code> or <code>SwapExactAmountIn</code> updates
pool state successfully.</p><p>It consists of the following attributes:</p><ul><li><code>sdk.AttributeKeyModule</code> - &quot;module&quot;<ul><li>The value is the module&#x27;s name - &quot;gamm&quot;.</li></ul></li><li>sdk.AttributeKeySender<ul><li>The value is the address of the sender who created the swap message.</li></ul></li><li>types.AttributeKeyPoolId<ul><li>The value is the pool id of the pool where swap occurs.</li></ul></li><li>types.AttributeKeyTokensIn<ul><li>The value is the string representation of the tokens being swapped in.</li></ul></li><li>types.AttributeKeyTokensOut<ul><li>The value is the string representation of the tokens being swapped out.</li></ul></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/osmosis-labs/docs/tree/main/docs/osmosis-core/modules/gamm/README.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/osmosis-core/modules/epochs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Epochs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/osmosis-core/modules/gamm/client/docs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CLI docs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#contents" class="table-of-contents__link toc-highlight">Contents</a></li><li><a href="#concepts" class="table-of-contents__link toc-highlight">Concepts</a><ul><li><a href="#pool" class="table-of-contents__link toc-highlight">Pool</a></li><li><a href="#swap" class="table-of-contents__link toc-highlight">Swap</a></li></ul></li><li><a href="#weights" class="table-of-contents__link toc-highlight">Weights</a></li><li><a href="#network-parameters" class="table-of-contents__link toc-highlight">Network Parameters</a></li><li><a href="#migration-records" class="table-of-contents__link toc-highlight">Migration Records</a></li><li><a href="#messages" class="table-of-contents__link toc-highlight">Messages</a><ul><li><a href="#msgcreatebalancerpool" class="table-of-contents__link toc-highlight">MsgCreateBalancerPool</a></li><li><a href="#msgjoinpool" class="table-of-contents__link toc-highlight">MsgJoinPool</a></li><li><a href="#msgexitpool" class="table-of-contents__link toc-highlight">MsgExitPool</a></li><li><a href="#msgswapexactamountin" class="table-of-contents__link toc-highlight">MsgSwapExactAmountIn</a></li><li><a href="#msgswapexactamountout" class="table-of-contents__link toc-highlight">MsgSwapExactAmountOut</a></li><li><a href="#msgjoinswapexternamountin" class="table-of-contents__link toc-highlight">MsgJoinSwapExternAmountIn</a></li></ul></li><li><a href="#transactions" class="table-of-contents__link toc-highlight">Transactions</a><ul><li><a href="#create-pool" class="table-of-contents__link toc-highlight">Create pool</a></li><li><a href="#join-pool" class="table-of-contents__link toc-highlight">Join pool</a></li><li><a href="#exit-pool" class="table-of-contents__link toc-highlight">Exit pool</a></li><li><a href="#join-swap-extern-amount-in" class="table-of-contents__link toc-highlight">Join-swap-extern-amount-in</a></li><li><a href="#exit-swap-extern-amount-out" class="table-of-contents__link toc-highlight">Exit-swap-extern-amount-out</a></li><li><a href="#join-swap-share-amount-out" class="table-of-contents__link toc-highlight">Join-swap-share-amount-out</a></li><li><a href="#exit-swap-share-amount-in" class="table-of-contents__link toc-highlight">Exit-swap-share-amount-in</a></li><li><a href="#swap-exact-amount-in" class="table-of-contents__link toc-highlight">Swap-exact-amount-in</a></li><li><a href="#swap-exact-amount-out" class="table-of-contents__link toc-highlight">Swap-exact-amount-out</a></li></ul></li><li><a href="#queries" class="table-of-contents__link toc-highlight">Queries</a></li><li><a href="#queries-1" class="table-of-contents__link toc-highlight">Queries</a><ul><li><a href="#estimate-swap-exact-amount-in" class="table-of-contents__link toc-highlight">Estimate Swap Exact Amount In</a></li><li><a href="#estimate-swap-exact-amount-out" class="table-of-contents__link toc-highlight">Estimate Swap Exact Amount Out</a></li><li><a href="#num-pools" class="table-of-contents__link toc-highlight">Num Pools</a></li></ul></li><li><a href="#pool-1" class="table-of-contents__link toc-highlight">Pool</a><ul><li><a href="#usage-3" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#example-2" class="table-of-contents__link toc-highlight">Example</a></li><li><a href="#pool-assets" class="table-of-contents__link toc-highlight">Pool Assets</a></li><li><a href="#pool-params" class="table-of-contents__link toc-highlight">Pool Params</a></li><li><a href="#pools" class="table-of-contents__link toc-highlight">Pools</a></li><li><a href="#total-liquidity" class="table-of-contents__link toc-highlight">Total Liquidity</a></li><li><a href="#total-share" class="table-of-contents__link toc-highlight">Total Share</a></li></ul></li><li><a href="#other-resources" class="table-of-contents__link toc-highlight">Other resources</a></li><li><a href="#events" class="table-of-contents__link toc-highlight">Events</a><ul><li><a href="#sdkeventtypemessage" class="table-of-contents__link toc-highlight"><code>sdk.EventTypeMessage</code></a></li><li><a href="#typestypeevtpooljoined" class="table-of-contents__link toc-highlight"><code>types.TypeEvtPoolJoined</code></a></li><li><a href="#typestypeevtpoolexited" class="table-of-contents__link toc-highlight"><code>types.TypeEvtPoolExited</code></a></li><li><a href="#typestypeevtpoolcreated" class="table-of-contents__link toc-highlight"><code>types.TypeEvtPoolCreated</code></a></li><li><a href="#typestypeevttokenswapped" class="table-of-contents__link toc-highlight"><code>types.TypeEvtTokenSwapped</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="margin-bottom--sm"><a class="footerLogoLink_DDai" href="/"><img src="/logo/light.svg" alt="Osmosis Docs" class="themedImage_ToTc themedImage--light_HNdA footer__logo" height="36px"><img src="/logo/dark.svg" alt="Osmosis Docs" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" height="36px"></a></div><div class="footer__row"><div class="footer__data"><div class="footer__cta"></div></div><div class="links"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Product</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://app.osmosis.zone" target="_blank" rel="noopener noreferrer" class="footer__link-item">Launch App</a></li><li class="footer__item"><a href="https://docs.osmosis.zone" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer Portal</a></li><li class="footer__item"><a href="https://osmosis.zone/ecosystem" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ecosystem</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.osmosis.zone" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation</a></li><li class="footer__item"><a href="https://medium.com/@Osmosis" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium</a></li><li class="footer__item"><a href="https://commonwealth.im/osmosis/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community</a></li></ul></div></div></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © Osmosis Labs since 2023. All rights reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.bc823761.js"></script>
<script src="/assets/js/main.b7be9099.js"></script>
</body>
</html>