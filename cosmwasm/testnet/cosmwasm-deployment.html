<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-cosmwasm docs-doc-id-testnet/cosmwasm-deployment">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Cosmwasm testnet deployment | Osmosis Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.osmosis.zone/img/osmosis-docs-card.png"><meta data-rh="true" name="twitter:image" content="https://docs.osmosis.zone/img/osmosis-docs-card.png"><meta data-rh="true" property="og:url" content="https://docs.osmosis.zone/cosmwasm/testnet/cosmwasm-deployment"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-cosmwasm-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-cosmwasm-current"><meta data-rh="true" property="og:title" content="Cosmwasm testnet deployment | Osmosis Docs"><meta data-rh="true" name="description" content="The following is a quick guide that shows the basics of deploying a contract to an Osmosis Testnet (osmo-test-5). It covers:"><meta data-rh="true" property="og:description" content="The following is a quick guide that shows the basics of deploying a contract to an Osmosis Testnet (osmo-test-5). It covers:"><link data-rh="true" rel="icon" href="/favicon.png"><link data-rh="true" rel="canonical" href="https://docs.osmosis.zone/cosmwasm/testnet/cosmwasm-deployment"><link data-rh="true" rel="alternate" href="https://docs.osmosis.zone/cosmwasm/testnet/cosmwasm-deployment" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.osmosis.zone/cosmwasm/testnet/cosmwasm-deployment" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://O18C1RUI3F-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Osmosis Docs" href="/opensearch.xml">









<link rel="preconnect" href="https://app.posthog.com">
<script>!function(t,e){var o,p,i,n;e.__SV||(window.posthog=e,e._i=[],e.init=function(r,s,a){function c(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(i=t.createElement("script")).type="text/javascript",i.async=!0,i.src=s.api_host+"/static/array.js",(n=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,n);var g=e;for(void 0!==a?g=e[a]=[]:a="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset".split(" "),p=0;p<o.length;p++)c(g,o[p]);e._i.push([r,s,a])},e.__SV=1)}(document,window.posthog||[]),posthog.init("00",{api_host:"https://app.posthog.com"})</script>

<script src="https://tally.so/widgets/embed.js"></script>
<script src="https://widget.kapa.ai/kapa-widget.bundle.js" data-website-id="c5b5e9fc-d025-4c12-b08e-9784d0e2161f" data-project-name="Osmosis" data-project-color="#7900B4" data-project-logo="https://app.osmosis.zone/tokens/osmo.svg" async></script><link rel="stylesheet" href="/assets/css/styles.792232e5.css">
<link rel="preload" href="/assets/js/runtime~main.b8f33cd1.js" as="script">
<link rel="preload" href="/assets/js/main.b67d48d9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/logo/light.svg" alt="Osmosis Docs" class="themedImage_ToTc themedImage--light_HNdA" height="26px" width="114px"><img src="/logo/dark.svg" alt="Osmosis Docs" class="themedImage_ToTc themedImage--dark_i4oU" height="26px" width="114px"></div></a><a class="navbar__item navbar__link" href="/overview/educate">Overview</a><a class="navbar__item navbar__link" href="/overview/integrate">Integrate</a><a class="navbar__item navbar__link" href="/overview/validate">Validate &amp; Run your Node</a><a class="navbar__item navbar__link" href="/overview/endpoints">Endpoints</a><a class="navbar__item navbar__link" href="/overview/features">Features</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/osmosis-core">Develop</a><a href="https://github.com/osmosis-labs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link pseudo-icon github-icon"></a><a href="https://discord.com/invite/osmosis" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link pseudo-icon discord-icon"></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://app.osmosis.zone" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link dev-portal-signup dev-portal-link">Launch Dex<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_mhZE"><div class="multiSectionContainer_bYm7"><div class="section_olD1" tabindex="0"><div>Osmosis Core</div><div><p class="description_C5q3">Osmosis Chain Development documentation.</p></div></div><div class="section_olD1 sectionActive_D9yk" tabindex="0"><div>CosmWasm</div><div><div class="row_KvCx"><button type="button" role="combobox" aria-controls="" aria-expanded="false" aria-autocomplete="none" aria-label="Select Section" class="sections-menu-trigger"><span style="pointer-events:none"></span><span aria-hidden="true"><svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" class="sections-menu-scrollButton"><path d="M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></span></button><select aria-hidden="true" tabindex="-1" style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal"></select></div></div></div><div class="section_olD1" tabindex="0"><div>Frontend &amp; SDKs</div><div><p class="description_C5q3">Libraries &amp; UI components to build on top of Osmosis.</p></div></div></div><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cosmwasm">Cosmwasm</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/cosmwasm/local/localosmosis">Local Development</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/cosmwasm/testnet/cosmwasm-beaker">Testnet Interaction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/cosmwasm/testnet/cosmwasm-beaker">Cosmwasm &amp; Beaker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/cosmwasm/testnet/cosmwasm-deployment">Cosmwasm testnet deployment</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cosmwasm/cosmwasm-verify-contract">Verifying Smart Contracts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cosmwasm/cw-orch">Scripts and Tests with cw-orchestrator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/cosmwasm/javascript">Javascript &amp; Smart Contracts</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Cosmwasm testnet deployment</h1><p>The following is a quick guide that shows the basics of deploying a contract to an Osmosis Testnet (<code>osmo-test-5</code>). It covers:</p><ul><li>Initial Setup<ul><li>Setup Rust</li><li>Setup Osmosis Testnet via Osmosis Installer</li><li>Setup Client</li></ul></li><li>Deploy a Smart Contract<ul><li>Clone cw-template</li><li>Compile the wasm contract with stable toolchain</li><li>Optimized Compilation</li><li>Store to Osmosis Testnet chain</li><li>Instantiate the contract</li></ul></li><li>Execute the Contract<ul><li>Get contract’s count</li><li>Increment contract’s count</li><li>Reset contract’s count</li></ul></li><li>Osmo Contract Explorer<ul><li>Upload the code</li><li>Execute the contract</li></ul></li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Please note this is a detailed guide on how to deploy via <code>osmosisd</code>, it also covers additional tooling and useful tips.  You can also deploy to testnet with <a href="/cosmwasm/testnet/cosmwasm-beaker">Beaker</a> with a couple of commands. </p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="initial-setup">Initial Setup<a class="hash-link" href="#initial-setup" title="Direct link to heading">​</a></h2><p>This tutorial uses an Osmosis specific development tools to deploy contracts to Osmosis Testnet(<code>osmo-test-5</code>).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-rust">Setup Rust<a class="hash-link" href="#setup-rust" title="Direct link to heading">​</a></h3><p>Rust is the main programming language used for CosmWasm smart contracts. While WASM smart contracts can theoretically be written in any programming language, CosmWasm libraries and tooling work best with Rust.</p><p>First, <a href="https://rustup.rs/" target="_blank" rel="noopener noreferrer">install rustup</a>.</p><p>Then run the following commands:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># 1. Set &#x27;stable&#x27; as the default release channel:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">rustup default stable</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">cargo version</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># If this is lower than 1.50.0+, update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">rustup update stable</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 2. Add WASM as the compilation target:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">rustup target list --installed</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">rustup target </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> wasm32-unknown-unknown</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 3. Install the following packages to generate the contract:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">cargo </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> cargo-generate --features vendored-openssl</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">cargo </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> cargo-run-script</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-osmosis-testnet">Setup Osmosis Testnet<a class="hash-link" href="#setup-osmosis-testnet" title="Direct link to heading">​</a></h3><p>You can easily set up an Osmosis Testnet environment using the <a href="https://github.com/osmosis-labs/osmosis-installer" target="_blank" rel="noopener noreferrer">Osmosis Installer</a>. </p><p>Run the following and choose option #2 (Client Node) and #2 (Testnet) in order.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">curl</span><span class="token plain"> -sL https://get.osmosis.zone/install </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> i.py </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> python3 i.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now you have successfully completed setting up an Osmosis client node in Testnet. In order to use <code>osmosisd</code> from the cli, either reload your terminal or refresh your profile with : <code>‘source ~/.profile’</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setup-the-client">Setup the Client<a class="hash-link" href="#setup-the-client" title="Direct link to heading">​</a></h3><p>First, create a wallet with the command following:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># add wallets for testing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd keys </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> wallet</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When you run the commands above, <code>osmosisd</code> will prompt you all the information related to that wallet in YAML (.yml) format.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">- name: wallet</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  type: </span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">local</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  address: osmo1v9yrqx8aaddlna29zxngr4ye3jnxtpprrej532</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  pubkey: </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;{&quot;@type&quot;:&quot;/cosmos.crypto.secp256k1.PubKey&quot;,&quot;key&quot;:&quot;AmKFqbczx7j/sYlqO2irXUSsQMdEN9Ugg1W2AOm7knh3&quot;}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  mnemonic: </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">**Important** </span><span class="token function" style="color:rgb(220, 220, 170)">write</span><span class="token plain"> this mnemonic phrase </span><span class="token keyword" style="color:rgb(86, 156, 214)">in</span><span class="token plain"> a safe place.</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">It is the only way to recover your account </span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> you ever forget your password.</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">divert cliff issue spirit penalty chief improve neck enjoy pipe sing loop inherit behind space next tourist acid axis easy never ball enemy moment</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You need some tokens named <code>OSMO</code>(<code>uosmo</code>) in your address to interact with the network.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="faucet">faucet<a class="hash-link" href="#faucet" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="official-faucet">Official Faucet<a class="hash-link" href="#official-faucet" title="Direct link to heading">​</a></h4><p>You can request tokens from the official faucet at <a href="https://faucet.osmosis.zone" target="_blank" rel="noopener noreferrer">faucet.osmosis.zone</a> </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="discord-faucet">Discord Faucet<a class="hash-link" href="#discord-faucet" title="Direct link to heading">​</a></h4><p>You can also participate in the <a href="https://discord.com/invite/osmosis" target="_blank" rel="noopener noreferrer">Osmosis discord</a> to request a faucet of the Osmosis Testnet. After gaining access to the testnet channel on the <code>#roles</code> channel of the discord, you can request a testnet token by sending the following message on the <code>#faucet</code> channel:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token variable" style="color:rgb(156, 220, 254)">$request</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">address</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://user-images.githubusercontent.com/70956926/172293039-b832fd96-d62d-44de-9889-ee400a9ec815.png" class="img_ev3q">
<img loading="lazy" src="https://user-images.githubusercontent.com/70956926/172293080-aee186ad-ef51-43bb-ac6e-1a8b65c9ce04.png" class="img_ev3q"></p><p>Then, you can check that your faucet request has been successful by checking the balance of your wallet bank account by trying the command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query bank balances </span><span class="token variable" style="color:rgb(156, 220, 254)">$(</span><span class="token variable" style="color:rgb(156, 220, 254)">osmosisd keys show -a wallet</span><span class="token variable" style="color:rgb(156, 220, 254)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>osmosisd query bank balances [address]</code> commands query the total balance of an account.</li><li><code>osmosisd keys show -a wallet</code> commands returns the address of the wallet that you created.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-a-smart-contract">Deploy a Smart Contract<a class="hash-link" href="#deploy-a-smart-contract" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clone-cw-template">Clone cw-template<a class="hash-link" href="#clone-cw-template" title="Direct link to heading">​</a></h3><p>For this example, we will use the <a href="https://github.com/osmosis-labs/cw-tpl-osmosis" target="_blank" rel="noopener noreferrer"><strong>cw-template</strong></a> repo with counter example.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">cargo generate --git https://github.com/osmosis-labs/cw-tpl-osmosis.git --name my-first-contract</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">cd</span><span class="token plain"> my-first-contract</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="compile-the-wasm-contract-with-stable-toolchain">Compile the wasm contract with stable toolchain<a class="hash-link" href="#compile-the-wasm-contract-with-stable-toolchain" title="Direct link to heading">​</a></h3><p>To deploy smart contracts, you must compile the code and make it an executable wasm binary file. We will compile the wasm contract with stable toolchain. </p><p>Compile using the command below:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Set &#x27;stable&#x27; as the default release channel:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">rustup default stable</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">cargo wasm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>toolchain</code> means the compiler of  Rust, and rust has three release channels: <code>stable</code>, <code>beta</code>, and <code>nightly</code>, of which the <code>stable</code> channel is the most recently released version. <code>rustup</code> helps you manage these different versions easily.</li><li><code>cargo</code> is the <em>Rust package manager</em>. In the <a href="https://github.com/InterWasm/cw-template/blob/main/.cargo/config" target="_blank" rel="noopener noreferrer">.cargo/config</a>, you can view the wasm compilation options as follows:<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">wasm </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;build --release --target wasm32-unknown-unknown&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>  So when we run the <code>cargo wasm</code> command, the <code>cargo build --release —-target wasm32-unknown-unknown</code> command is executed according to the option in the config file above.
</li></ul><p>After this compiles, it should produce a file in <code>target/wasm32-unknown-unknown/release/my_first_contract.wasm</code>.  If you check the size of the file by using the <code>ls -lh</code> command, it shows around <code>1.8M</code>. This is a release build, but not stripped of all unneeded code. To produce a much smaller version, you can run this which tells the compiler to strip all unused code out:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token assign-left variable" style="color:rgb(156, 220, 254)">RUSTFLAGS</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;-C link-arg=-s&#x27;</span><span class="token plain"> cargo wasm</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This produces a file about <code>155K</code>. To reduce gas costs, the binary size should be as small as possible. This will result in a less costly deployment, and lower fees on every interaction.</p><p>Also, if you don’t use compilation optimization, CosmWasm smart contract will not be deployed well due to <code>exceeds limit</code> error.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="optimized-compilation">Optimized Compilation<a class="hash-link" href="#optimized-compilation" title="Direct link to heading">​</a></h3><p>You can do further optimization using <a href="https://github.com/CosmWasm/rust-optimizer" target="_blank" rel="noopener noreferrer">rust-optimizer</a>. <strong>rust-optimizer</strong> produces reproducible builds of CosmWasm smart contracts and does heavy optimization on the build size, using binary stripping and <code>wasm-opt</code>.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token function" style="color:rgb(220, 220, 170)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">docker</span><span class="token plain"> run --rm -v </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$(</span><span class="token string variable builtin class-name" style="color:rgb(78, 201, 176)">pwd</span><span class="token string variable" style="color:rgb(156, 220, 254)">)</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain">:/code </span><span class="token punctuation" style="color:rgb(212, 212, 212)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    --mount </span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">type</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">volume,source</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;$(basename &quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$(</span><span class="token string variable builtin class-name" style="color:rgb(78, 201, 176)">pwd</span><span class="token string variable" style="color:rgb(156, 220, 254)">)</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain">_cache&quot;,target</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">/code/target </span><span class="token punctuation" style="color:rgb(212, 212, 212)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    --mount </span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">type</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">volume,source</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">registry_cache,target</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">/usr/local/cargo/registry </span><span class="token punctuation" style="color:rgb(212, 212, 212)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    cosmwasm/rust-optimizer:0.12.6</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Binary file will be at <code>artifacts/my_first_contract.wasm</code> folder and its size will be about <code>130K</code>, which is more smaller than when only RUTFLAGS was used.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="store-to-osmosis-testnet-chain">Store to Osmosis Testnet chain<a class="hash-link" href="#store-to-osmosis-testnet-chain" title="Direct link to heading">​</a></h3><p>We have the wasm binary executable ready. Now it is time to store the code to the Osmosis Testnet blockchain. </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># store the code on chain</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">RES</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token variable" style="color:rgb(156, 220, 254)">$(</span><span class="token variable" style="color:rgb(156, 220, 254)">osmosisd tx wasm store artifacts/my_first_contract.wasm --from wallet --gas-prices </span><span class="token variable number" style="color:rgb(181, 206, 168)">0</span><span class="token variable" style="color:rgb(156, 220, 254)">.1uosmo --gas auto --gas-adjustment </span><span class="token variable number" style="color:rgb(181, 206, 168)">1.3</span><span class="token variable" style="color:rgb(156, 220, 254)"> -y --output json -b block</span><span class="token variable" style="color:rgb(156, 220, 254)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>osmosisd tx wasm store</code> : upload a wasm binary</li><li><code>--from</code> : name or address of private key with which to sign.</li><li><code>--gas-prices</code> : gas prices in decimal format to determine the transaction fee.</li><li><code>--gas</code> : gas limit to set per-transaction. set to &quot;<code>auto</code>&quot; to calculate sufficient gas automatically</li><li><code>--gas-adjustment</code> : adjustment factor to be multiplied against the estimate returned by the tx simulation.</li><li><code>-y</code> : to skip tx broadcasting prompt confirmation.</li><li><code>--output</code> : output format.</li><li><code>-b</code> : transaction broadcasting mode</li></ul><p><img loading="lazy" src="https://user-images.githubusercontent.com/70956926/172293654-7beba11b-ce5f-4979-94e2-19156c6e5b27.png" class="img_ev3q"></p><p>Once that is complete, you can get the <code>CODE_ID</code> easily using <code>jq</code>.</p><p><code>jq</code> is an open source that helps extract data from JSON. Install it according to your OS using the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># Linux</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> jq</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Mac</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">brew </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> jq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you are using an operating system other than the one listed above, please refer to the <a href="https://stedolan.github.io/jq/download/" target="_blank" rel="noopener noreferrer">official document</a>.</p><p>Run the following command to set the <code>CODE_ID</code> as a variable:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># get CODE_ID</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">CODE_ID</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token variable" style="color:rgb(156, 220, 254)">$(</span><span class="token variable builtin class-name" style="color:rgb(78, 201, 176)">echo</span><span class="token variable" style="color:rgb(156, 220, 254)"> $RES </span><span class="token variable operator" style="color:rgb(212, 212, 212)">|</span><span class="token variable" style="color:rgb(156, 220, 254)"> jq -r </span><span class="token variable string" style="color:rgb(206, 145, 120)">&#x27;.logs[0].events[-1].attributes[0].value&#x27;</span><span class="token variable" style="color:rgb(156, 220, 254)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">echo</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$CODE_ID</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://user-images.githubusercontent.com/70956926/172293774-e60b8d0b-a5c3-48db-9c79-4f4f427eb59b.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="instantiate-the-contract">Instantiate the contract<a class="hash-link" href="#instantiate-the-contract" title="Direct link to heading">​</a></h3><p>We can now create an instance of this wasm contract. First, set the initial state of the instance in the <code>INIT</code> variable and run the <code>instantiate</code> command.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token comment" style="color:rgb(106, 153, 85)"># set the initial state of the instance</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">INIT</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;{&quot;count&quot;:100}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># instantiate the contract</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx wasm instantiate </span><span class="token variable" style="color:rgb(156, 220, 254)">$CODE_ID</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$INIT</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    --from wallet --label </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my first contract&quot;</span><span class="token plain"> --gas-prices </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token plain">.025uosmo --gas auto --gas-adjustment </span><span class="token number" style="color:rgb(181, 206, 168)">1.3</span><span class="token plain"> -b block -y --no-admin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>osmosisd tx wasm instantiate</code> : instantiate a wasm contract using CODE_ID of the uploaded binary.</li><li><code>--label</code> : human-readable name for this contract in lists.</li><li><code>--no-admin</code> : you must set this explicitly if you don’t want an admin.</li></ul><p>If you have succeeded in instantiating the contract, you can search for output <code>txhash</code> in <a href="https://testnet.ping.pub/osmosis" target="_blank" rel="noopener noreferrer">Osmosis Explorer</a> to verify your deployment.</p><p>Get the contract address using the command following:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token assign-left variable" style="color:rgb(156, 220, 254)">CONTRACT_ADDR</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token variable" style="color:rgb(156, 220, 254)">$(</span><span class="token variable" style="color:rgb(156, 220, 254)">osmosisd query wasm list-contract-by-code $CODE_ID --output json </span><span class="token variable operator" style="color:rgb(212, 212, 212)">|</span><span class="token variable" style="color:rgb(156, 220, 254)"> jq -r </span><span class="token variable string" style="color:rgb(206, 145, 120)">&#x27;.contracts[0]&#x27;</span><span class="token variable" style="color:rgb(156, 220, 254)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>osmosisd query wasm list-contract-by-code</code> : list wasm all bytecode on the chain for given code id</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="execute-the-contract">Execute the Contract<a class="hash-link" href="#execute-the-contract" title="Direct link to heading">​</a></h2><p>Now, let&#x27;s see if the contract we deployed works well.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="get-contracts-count">Get contract’s count<a class="hash-link" href="#get-contracts-count" title="Direct link to heading">​</a></h3><p>Send a <code>get_count</code> query to check the count value. The previously set <code>INIT</code> state is output as it is.: <code>{&quot;data&quot;:{&quot;count&quot;:100}}</code></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token assign-left variable" style="color:rgb(156, 220, 254)">QUERY</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;{&quot;get_count&quot;:{}}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd query wasm contract-state smart </span><span class="token variable" style="color:rgb(156, 220, 254)">$CONTRACT_ADDR</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$QUERY</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> --output json</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>osmosisd query wasm contract-state smart</code> : calls contract with given address with query data and prints the returned result</li></ul><p><img loading="lazy" src="https://user-images.githubusercontent.com/70956926/172295110-e3ae455c-9681-41a4-abf2-ac33288bb13c.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="increment-contracts-count">Increment contract’s count<a class="hash-link" href="#increment-contracts-count" title="Direct link to heading">​</a></h3><p>This time, let&#x27;s send an <code>increment</code> transaction that increases the count value by +1. Because the transaction changes the internal state of the contract, you must pay gas fees.</p><p>If you run the <code>get_count</code> query again after sending the <code>increment</code> transaction, you can see that +1 has increased from the previous count value.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token assign-left variable" style="color:rgb(156, 220, 254)">TRY_INCREMENT</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;{&quot;increment&quot;: {}}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx wasm execute </span><span class="token variable" style="color:rgb(156, 220, 254)">$CONTRACT_ADDR</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$TRY_INCREMENT</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> --from wallet --gas-prices </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token plain">.025uosmo --gas auto --gas-adjustment </span><span class="token number" style="color:rgb(181, 206, 168)">1.3</span><span class="token plain"> -y --chain-id osmo-test-5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>osmosisd tx wasm execute</code> : execute a command on a wasm contract</li></ul><p><img loading="lazy" src="https://user-images.githubusercontent.com/70956926/172295183-89016c41-7832-41c4-b4c7-a2cf9d441256.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reset-contracts-count">Reset contract’s count<a class="hash-link" href="#reset-contracts-count" title="Direct link to heading">​</a></h3><p>Lastly, let’s send a <code>reset</code> transaction. Like increment, reset transaction also changes the internal state of contract, so you must pay gas fees.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token assign-left variable" style="color:rgb(156, 220, 254)">RESET</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;{&quot;reset&quot;: {&quot;count&quot;: 0}}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">osmosisd tx wasm execute </span><span class="token variable" style="color:rgb(156, 220, 254)">$CONTRACT_ADDR</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token string variable" style="color:rgb(156, 220, 254)">$RESET</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;</span><span class="token plain"> --from wallet --gas-prices </span><span class="token number" style="color:rgb(181, 206, 168)">0</span><span class="token plain">.025uosmo --gas auto --gas-adjustment </span><span class="token number" style="color:rgb(181, 206, 168)">1.3</span><span class="token plain"> -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://user-images.githubusercontent.com/70956926/172295239-ddf95369-5b9a-4096-a84d-aecc1ef30484.png" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="osmo-contract-explorer">Osmo Contract Explorer<a class="hash-link" href="#osmo-contract-explorer" title="Direct link to heading">​</a></h2><p>You can also instantiate the contract using intuitive GUI in <a href="https://osmosis-contracts.web.app/#/codes" target="_blank" rel="noopener noreferrer">Osmo Contract Explorer</a>.</p><p>Let’s do it together</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="upload-the-code">Upload the code<a class="hash-link" href="#upload-the-code" title="Direct link to heading">​</a></h3><p>When you access the site, you will see a list of the code we uploaded to the chain and the contract instances created using the corresponding CODE_ID.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/70956926/172296987-b8df32a4-f50e-4546-8773-a257a21fb92d.png" class="img_ev3q"></p><p>First, Login by connecting your wallet. Then click the <code>Create a Contract</code> button and enter the initial state of the instance in <code>Instantiate Message</code>. After also entering label and admin, you can easily create a contract instance by clicking the <code>Instantiate Contract</code> button.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/70956926/172297151-64146bba-d7d4-444f-9a57-06dd55f62db8.png" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="execute-the-contract-1">Execute the contract<a class="hash-link" href="#execute-the-contract-1" title="Direct link to heading">​</a></h3><p>Now, let&#x27;s send a transaction to the contract to see if the contract works well.</p><p>You can send a query in the <code>Read Contract</code> section and you can send transactions that change the internal state of the contract in the <code>Write Contract</code> section.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/70956926/172298609-95a0269d-ae58-472b-b02e-c2b1b5f3c4e6.png" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="get_count">get_count<a class="hash-link" href="#get_count" title="Direct link to heading">​</a></h4><p>In the Read Contract section, type <code>get_count</code> messages and press the <code>Run query</code> button to get the count value.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/70956926/172300337-eda6f76a-ad31-45d3-a5a1-8d324c2bc966.png" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="increment">increment<a class="hash-link" href="#increment" title="Direct link to heading">​</a></h4><p>In the Write Contract section, type <code>increment</code> messages and the OSMO to pay and click the <code>Execute Contract</code> button to execute the transaction.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/70956926/172300637-bb29452d-1d23-4c30-8cbb-d72f358b490e.png" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="reset">reset<a class="hash-link" href="#reset" title="Direct link to heading">​</a></h4><p><img loading="lazy" src="https://user-images.githubusercontent.com/70956926/172300485-4d66b5a9-1082-48da-ba1c-b979206f277e.png" class="img_ev3q"></p><p>Congratulations! Now you deployed your wasm smart contract on Osmosis Testnet successfully.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/osmosis-labs/docs/tree/main/docs/cosmwasm/testnet/cosmwasm-deployment.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/cosmwasm/testnet/cosmwasm-beaker"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Cosmwasm &amp; Beaker</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/cosmwasm/cosmwasm-verify-contract"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Verifying Smart Contracts</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#initial-setup" class="table-of-contents__link toc-highlight">Initial Setup</a><ul><li><a href="#setup-rust" class="table-of-contents__link toc-highlight">Setup Rust</a></li><li><a href="#setup-osmosis-testnet" class="table-of-contents__link toc-highlight">Setup Osmosis Testnet</a></li><li><a href="#setup-the-client" class="table-of-contents__link toc-highlight">Setup the Client</a></li><li><a href="#faucet" class="table-of-contents__link toc-highlight">faucet</a></li></ul></li><li><a href="#deploy-a-smart-contract" class="table-of-contents__link toc-highlight">Deploy a Smart Contract</a><ul><li><a href="#clone-cw-template" class="table-of-contents__link toc-highlight">Clone cw-template</a></li><li><a href="#compile-the-wasm-contract-with-stable-toolchain" class="table-of-contents__link toc-highlight">Compile the wasm contract with stable toolchain</a></li><li><a href="#optimized-compilation" class="table-of-contents__link toc-highlight">Optimized Compilation</a></li><li><a href="#store-to-osmosis-testnet-chain" class="table-of-contents__link toc-highlight">Store to Osmosis Testnet chain</a></li><li><a href="#instantiate-the-contract" class="table-of-contents__link toc-highlight">Instantiate the contract</a></li></ul></li><li><a href="#execute-the-contract" class="table-of-contents__link toc-highlight">Execute the Contract</a><ul><li><a href="#get-contracts-count" class="table-of-contents__link toc-highlight">Get contract’s count</a></li><li><a href="#increment-contracts-count" class="table-of-contents__link toc-highlight">Increment contract’s count</a></li><li><a href="#reset-contracts-count" class="table-of-contents__link toc-highlight">Reset contract’s count</a></li></ul></li><li><a href="#osmo-contract-explorer" class="table-of-contents__link toc-highlight">Osmo Contract Explorer</a><ul><li><a href="#upload-the-code" class="table-of-contents__link toc-highlight">Upload the code</a></li><li><a href="#execute-the-contract-1" class="table-of-contents__link toc-highlight">Execute the contract</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="margin-bottom--sm"><a class="footerLogoLink_DDai" href="/"><img src="/logo/light.svg" alt="Osmosis Docs" class="themedImage_ToTc themedImage--light_HNdA footer__logo" height="36px"><img src="/logo/dark.svg" alt="Osmosis Docs" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" height="36px"></a></div><div class="footer__row"><div class="footer__data"><div class="footer__cta"></div></div><div class="links"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Product</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://app.osmosis.zone" target="_blank" rel="noopener noreferrer" class="footer__link-item">Launch App</a></li><li class="footer__item"><a href="https://docs.osmosis.zone" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer Portal</a></li><li class="footer__item"><a href="https://osmosis.zone/ecosystem" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ecosystem</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.osmosis.zone" target="_blank" rel="noopener noreferrer" class="footer__link-item">Documentation</a></li><li class="footer__item"><a href="https://medium.com/@Osmosis" target="_blank" rel="noopener noreferrer" class="footer__link-item">Medium</a></li><li class="footer__item"><a href="https://commonwealth.im/osmosis/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community</a></li></ul></div></div></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © Osmosis Labs since 2023. All rights reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b8f33cd1.js"></script>
<script src="/assets/js/main.b67d48d9.js"></script>
</body>
</html>